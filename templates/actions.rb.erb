class <%= name %>
  module Actions
<% rules.map(&:components).flatten.select(&:action).each_with_index do |seq, i| -%>
<%= "\n" unless i.zero? -%>
    def <%= seq.action_name %>(<%= seq.tags.values.join(', ') %>)
      <%= seq.action.strip %>
    end
<% end -%>
  end

  include Actions
end
